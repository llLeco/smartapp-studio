# SmartApp Studio

> ðŸŽ¯ Submission for the **Hedera AI Agents Hackathon 2025**  
> ðŸ† Tracks:  
> - **Best Use of HCS-10**  
> - **Best Use of AgentKit / MCP** *(implements a custom AI agent using HCS-10)*

## ðŸ“Œ Project Overview

SmartApp Studio is an AI-assisted platform that revolutionizes the development of decentralized applications on the Hedera network. Our platform enables developers to create sophisticated SmartApps without writing or deploying smart contracts. All logic runs off-chain via validator files executed by decentralized SmartNodes.

**Powered by:**  
ðŸ§  OpenAI API | ðŸŸ£ HbarSuite SmartNodes | ðŸ§© HCS-10 Protocol | ðŸª™ HTS (HSUITE, NFT licenses) | ðŸ“¡ Mirror Node | ðŸ” WalletConnect 2.0

**Problem Solved:**
- Traditional blockchain development requires specialized knowledge in smart contract programming
- The entry barrier for decentralized application development is prohibitively high
- Developing for Hedera requires understanding multiple technologies (HTS, HCS, Mirror Node)

**Why It Matters:**
SmartApp Studio democratizes blockchain development by using generative AI and the HCS-10 protocol to guide developers through the process of creating decentralized applications, automatically generating project structures, NFT schemas, and functional base code.

## ðŸ“Œ How Hedera is Used

### Hedera Token Service (HTS)
- **License NFT Minting**
  - Creates unique NFT licenses that grant access to SmartApp Studio
  - Stores topic IDs as NFT metadata to link licenses with conversation history
  - File: `backend/src/services/licenseService.ts`

- **Payment System**
  - Uses HSUITE tokens for monetization
  - Token transfers for access to premium features
  - File: `frontend/components/MessagePaymentModal.tsx`

### Hedera Consensus Service (HCS) & HCS-10
- **Decentralized Storage & Communication**
  - Records all conversations in HCS topics
  - Implements HCS-10 protocol for AI agent communication
  - File: `backend/src/services/chatService.ts`

- **Topic Management**
  - Creates separate topics for each project
  - Allows users to create and manage multiple projects
  - File: `backend/src/services/projectService.ts`

### Mirror Node
- **Historical Data Retrieval**
  - Fetches message history from HCS topics
  - Verifies token balances and information
  - File: `backend/src/services/hederaService.ts`

- **Account Validation**
  - Retrieves account information and NFTs
  - Validates licenses and subscriptions
  - File: `backend/src/services/subscriptionService.ts`

## ðŸ“Œ HCS-10 Usage

SmartApp Studio implements the HCS-10 protocol for AI agent communication on Hedera Consensus Service:

- **Message Structure**
  - All messages follow standardized format with type identifiers:
    - `CHAT_TOPIC`: For AI-user conversations
    - `LICENSE_CREATION`: For creating and tracking licenses
    - `PROJECT_CREATION`: For new project initialization
    - `SUBSCRIPTION_CREATED`: For subscription management

- **Topic Organization**
  - **License Topics**: Main topics associated with NFT licenses
  - **Project Topics**: Secondary topics for each user project
  - **Chunked Messages**: Support for large responses split into multiple chunks

- **Message Flow**
  1. User sends prompt to AI Assistant
  2. Backend processes request and calls AI service
  3. Response is recorded to appropriate topic using HCS-10 protocol
  4. Frontend retrieves and displays message history from topics

The main implementation can be found in:
- `backend/src/services/chatService.ts`
- `backend/src/services/topicService.ts`

## ðŸ“Œ What Are SmartNodes?

SmartNodes are off-chain validators developed by HbarSuite.  
They run custom JSON-based validator files that define rules, access control, and signing logic â€” all without smart contracts.

Every SmartApp generated by this project is powered by a SmartNode validator config.

## ðŸ“Œ Setup & Build Instructions

### Prerequisites
- Node.js v16+
- Hedera Account (Testnet)
- OpenAI API Key

### Backend Setup
```bash
cd backend
npm install
cp .env.example .env
```

Configure the following in your `.env` file:
```
OPENAI_API_KEY=your_key_here
HEDERA_NETWORK=testnet
HEDERA_OPERATOR_ID=0.0.XXXXX
HEDERA_OPERATOR_KEY=302e...
HSUITE_TOKEN_ID=0.0.2203022
LICENSE_TOKEN_ID=0.0.XXXXX
```

Start the backend server:
```bash
npm run dev
```

### Frontend Setup
```bash
cd frontend
npm install
cp .env.example .env.local
```

Configure the following in your `.env.local` file:
```
NEXT_PUBLIC_BACKEND_URL=http://localhost:3001
NEXT_PUBLIC_HSUITE_TOKEN_ID=0.0.2203022
NEXT_PUBLIC_MESSAGE_PRICE=1000
```

Start the frontend server:
```bash
npm run dev
```

### Wallet Connection
1. Install HashPack, Blade, or other Hedera-compatible wallet
2. Connect your wallet using the "Connect Wallet" button
3. Approve the connection in your wallet extension

### Using SmartApp Studio
1. **Mint License NFT**
   - After connecting your wallet, go to the "Account" page
   - Click "Get License" to mint your SmartApp Studio license

2. **Subscribe to Service**
   - Go to the "Subscriptions" page
   - Choose a subscription plan and approve the HSUITE token payment
   - Your subscription will be recorded on the Hedera network

3. **Create Project**
   - Navigate to "Projects"
   - Click "New Project" and enter project details

4. **Use Assistant**
   - Open your project and navigate to the chat interface
   - Ask questions or describe the SmartApp you want to build
   - The AI will generate code, structures, and guidance

## ðŸ“Œ Demo Walkthrough

Follow these steps to experience SmartApp Studio:

1. **Connect Wallet**
   - Click "Connect Wallet" button in the top-right corner
   - Approve the connection in your Hedera wallet

2. **Get a License**
   - Navigate to "Account" page
   - Click "Get License" to mint your NFT license
   - Approve the transaction in your wallet

3. **Purchase a Subscription**
   - Go to "Subscriptions" 
   - Select a plan and confirm the HSUITE token payment
   - Your subscription will be recorded on the Hedera network

4. **Create a Project**
   - Navigate to "Projects" 
   - Click "New Project"
   - Enter a name and description for your SmartApp

5. **AI Assistant Interaction**
   - In your project, describe the app you want to build
   - The AI will provide code, structure, and guidance
   - All conversations are stored in your project's HCS topic

6. **View HCS Records**
   - Navigate to "Account" > "License Details"
   - Click "View on HashScan" to see your topic messages

## ðŸ“Œ Deployment Links

- **Main HCS Topic:** [0.0.XXXXX (Testnet)](https://hashscan.io/testnet/topic/0.0.XXXXX)
- **HSUITE Token:** [0.0.2203022 (Testnet)](https://hashscan.io/testnet/token/0.0.2203022)
- **License NFT Collection:** [0.0.XXXXX (Testnet)](https://hashscan.io/testnet/token/0.0.XXXXX)
- **Live Application:** [smartapp-studio.vercel.app](https://smartapp-studio.vercel.app)

---

## License

This project is licensed under the MIT License - see the LICENSE file for details.

---
